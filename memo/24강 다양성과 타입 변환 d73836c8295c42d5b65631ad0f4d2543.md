# 24강 다양성과 타입 변환

## 클래스의 타입 변환

- 자료형의 타입 변환과 같이 클래스도 타입 변환이 있음 단, 자료형에 비해 타입 변환이 가능한 범위가 좁으며 서로 상속 관계에 있는 클래스 사이에서만 변환이 가능함

## 클래스의 자동 타입 변환

- 개발자가 직접 명시하지 않아도 자동으로 타입 변환이 일어나는 것을 자동 타입 변환이라고 함
- 상속 관계에 있는 자식 클래스의 객체를 부모 타입의 객체로 변환하는 것
- 자식 객체를 만들면서 부모 타입으로 변환할 때

```jsx
부모 클래스(타입) 객체변수 = new 자식 클래스();
```

## 클래스 형변환

1. 형변환 가능
    1. 자동 형변환
    2. 강제 형변환
2. 상속 관계가 있을 때만 가능
3. 1차 상속 관계가 아니더라도 가능
4. 자식 → 부모 타입으로의 형변환만 가능
5. 부모 타입으로 변환할 경우
    - 클래스인 경우는 부모 클래스는 자식 클래스의 속성이나 기능을 사용 불가능

## 자동 형변환 예시

1. 상속을 해줄 부모 클래스 생성
    
    ![스크린샷 2024-08-09 오전 3.04.48.png](24%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%A3%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%87%E1%85%A7%E1%86%AB%E1%84%92%E1%85%AA%E1%86%AB%20d73836c8295c42d5b65631ad0f4d2543/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-08-09_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_3.04.48.png)
    
2. 부모 클래스로 부터 1차 상속을 받는 자식 클래스 생성
    
    ![스크린샷 2024-08-09 오전 3.06.14.png](24%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%A3%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%87%E1%85%A7%E1%86%AB%E1%84%92%E1%85%AA%E1%86%AB%20d73836c8295c42d5b65631ad0f4d2543/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-08-09_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_3.06.14.png)
    
3. 상속 받은 자식 클래스로 부터 다시 상속 받는 자식 클래스 생성(2차 상속)
    
    ![스크린샷 2024-08-09 오전 3.07.25.png](24%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%A3%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%87%E1%85%A7%E1%86%AB%E1%84%92%E1%85%AA%E1%86%AB%20d73836c8295c42d5b65631ad0f4d2543/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-08-09_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_3.07.25.png)
    
4. 메인 함수에서 실행 및 호출

![스크린샷 2024-08-09 오전 3.08.22.png](24%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%A3%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%87%E1%85%A7%E1%86%AB%E1%84%92%E1%85%AA%E1%86%AB%20d73836c8295c42d5b65631ad0f4d2543/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-08-09_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_3.08.22.png)

## 다형성이란?

- 객체 지향 프로그래밍의 특징 중 하나로, 하나의 타입으로 다양한 객체를 사용할 수 있는 것
- 자바에서는 클래스 타입 변환을 통해, 부모 클래스의 타입 하나로 여러 가지 자식 객체들을 참조하여 사용함으로써 다형성을 구현 가능
- 클래스 타입 변환이 존재하는 이유 또한 다형성을 구현하기 위함
- 타입 변환은 다형성을 구현하는 방법 중 하나일 뿐, 혼자 다형성을 완전히 구현하는건 불가능
- 상속 + 메서드 오버라이딩 + 클래스 타입 변환 이 세가지를 통해 다형성 활용 가능

## 다형성 구현 예시

1. 다형성을 구현할 interface(설계도) 생성
    
    ![스크린샷 2024-08-09 오전 3.33.30.png](24%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%A3%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%87%E1%85%A7%E1%86%AB%E1%84%92%E1%85%AA%E1%86%AB%20d73836c8295c42d5b65631ad0f4d2543/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-08-09_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_3.33.30.png)
    
2. interface를 구현할 클래스 생성
    
    ![스크린샷 2024-08-09 오전 3.35.13.png](24%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%A3%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%87%E1%85%A7%E1%86%AB%E1%84%92%E1%85%AA%E1%86%AB%20d73836c8295c42d5b65631ad0f4d2543/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-08-09_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_3.35.13.png)
    
    ![스크린샷 2024-08-09 오전 3.35.30.png](24%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%A3%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%87%E1%85%A7%E1%86%AB%E1%84%92%E1%85%AA%E1%86%AB%20d73836c8295c42d5b65631ad0f4d2543/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-08-09_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_3.35.30.png)
    
3. 보안 및 활용을 위해 private 멤버 변수와 getter & setter 메서드 생성
    
    ![스크린샷 2024-08-09 오전 3.36.32.png](24%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%A3%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%87%E1%85%A7%E1%86%AB%E1%84%92%E1%85%AA%E1%86%AB%20d73836c8295c42d5b65631ad0f4d2543/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-08-09_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_3.36.32.png)
    
4. 메인 함수에서 실행 및 호출
    
    ![스크린샷 2024-08-09 오전 3.38.48.png](24%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%A3%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%87%E1%85%A7%E1%86%AB%E1%84%92%E1%85%AA%E1%86%AB%20d73836c8295c42d5b65631ad0f4d2543/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-08-09_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_3.38.48.png)
    

## instanceof 연산자란?

- 부모 타입으로 타입이 변환되어 저장된 변수는 안에 어떤 객체가 담겨 있는지 직접 확인해 보지 않는 이상 내부 객체를 알기 쉽지 않음, 이를 위해 만들어진 연산자
- 객체가 가지고 있는 데이터 타입이 어떤 것인지 분별해내는 연산자

## instanceof 연산자 활용 예시

```java
package exam23.exam.intance;

import exam23.exam.manytype.Computer;
import exam23.exam.manytype.Sonic;
import exam23.exam.manytype.Windows;

public class CompareInstance {

	public static void getMyType(Computer com) {

		if (com instanceof Windows) {
			System.out.println("윈도우");
		} else if (com instanceof Sonic) {
			System.out.println("소닉");
		} else {
			System.out.println("NonOs");
		}

	}

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		Computer window = new Windows();
		Computer sonic = new Sonic();

		CompareInstance.getMyType(window);
		CompareInstance.getMyType(sonic);

	}

}
```

![스크린샷 2024-08-09 오전 3.54.45.png](24%E1%84%80%E1%85%A1%E1%86%BC%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%A3%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%90%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%B8%20%E1%84%87%E1%85%A7%E1%86%AB%E1%84%92%E1%85%AA%E1%86%AB%20d73836c8295c42d5b65631ad0f4d2543/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-08-09_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_3.54.45.png)